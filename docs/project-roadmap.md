# VibeInsight プロジェクトロードマップ

## 現状分析

### 現在の状態
- 基本的なテキスト入力アプリケーションのテンプレートが実装済み
- Supabase連携、認証機能、データ保存機能が動作
- VibeInsightの本来の機能（音声分析、1on1レポート生成）は未実装

### ギャップ分析
議事録と仕様書に記載されている目標機能と、現在の実装状態には大きなギャップがあります。

## 開発フェーズ

### Phase 1: 基盤整備（1-2週間）
1. **プロジェクト構造の再編成**
   - テキスト入力機能を音声ファイルアップロード機能に置き換え
   - データモデルの設計（1on1セッション、分析結果、診断情報）
   - Supabaseのテーブル構造を再設計

2. **音声処理基盤の構築**
   - 音声ファイルアップロード機能の実装
   - 音声ファイルの保存・管理（Supabase Storage）
   - 文字起こしAPI（Whisper API等）の統合

### Phase 2: コア機能の実装（3-4週間）
1. **音声分析エンジンの開発**
   - 発話者分離（diarization）機能
   - 音響特徴の抽出（話速、抑揚、音量）
   - 感情分析APIの統合
   - 会話イベント検出（声の被り、沈黙など）

2. **1on1分析レポート画面の実装**
   - 画面仕様書に基づいたUI実装
   - タブ構成（概要、会話ダイナミクス、コーチングスキル、トランスクリプト）
   - イベントタイムラインの可視化（プロット表示）
   - 絵文字を使ったイベント表示

### Phase 3: 診断機能の実装（2-3週間）
1. **診断ロジックの開発**
   - 各種指標の計算（ジニ係数、感情分析、スキル評価）
   - 診断名の判定アルゴリズム
   - 処方箋の生成ロジック

2. **診断例の実装**
   - 6つの典型的なコミュニケーションスタイルの判定
   - スタイルごとの処方箋テンプレート

### Phase 4: ダッシュボード機能（2週間）
1. **マイページ/ダッシュボード**
   - 過去のセッション一覧
   - スコア推移グラフ
   - 処方箋の進捗管理

2. **組織管理者向け機能**（後期実装候補）
   - 組織全体の分析ダッシュボード
   - 部署別比較機能

### Phase 5: 品質向上とデプロイ（1-2週間）
1. **テストとバグ修正**
2. **パフォーマンス最適化**
3. **デプロイメント準備**

## 技術的考慮事項

### 必要な外部サービス
1. **音声処理API**
   - OpenAI Whisper API（文字起こし）
   - 感情分析API（Google Cloud Speech-to-Text等）
   - 話者分離ライブラリ（pyannote等）

2. **バックエンド拡張**
   - Supabase Edge Functions（重い処理用）
   - 音声ファイルストレージ（Supabase Storage）

### アーキテクチャの推奨事項
1. **フロントエンド**
   - 現在のReact + TypeScript構成を維持
   - グラフ表示にはChart.jsまたはRechartsを使用
   - タイムライン表示にはカスタムコンポーネントを開発

2. **バックエンド**
   - 音声処理は非同期ジョブとして実装
   - 分析結果はキャッシュして再利用
   - リアルタイム更新にはSupabase Realtimeを活用

## 直近のアクション（今週）

1. **データモデル設計**
   - ERD（Entity Relationship Diagram）の作成
   - Supabaseマイグレーションファイルの準備

2. **画面モックアップ作成**
   - 1on1分析レポート画面のワイヤーフレーム
   - ダッシュボード画面のデザイン案

3. **技術検証**
   - 音声アップロード機能のプロトタイプ
   - Whisper APIの接続テスト
   - グラフライブラリの選定

## リスクと対策

### 技術的リスク
- **音声処理の精度**: 複数のAPIを比較検証し、最適なものを選定
- **処理時間**: 非同期処理とプログレス表示で体験を向上
- **コスト**: フリーミアムモデルで使用量に応じた課金設計

### ビジネスリスク
- **先行者利益の確保**: MVPを早期リリースし、フィードバックループを構築
- **差別化**: 「診断名」と「処方箋」というユニークな価値提案を強化

## 成功指標
- Phase 2完了時点でデモ可能な状態
- Phase 3完了時点でベータ版リリース
- ユーザーフィードバックに基づく改善サイクルの確立