# VibeInsight é–‹ç™ºç’°å¢ƒè¨­å®š
# mise configuration for VibeInsight project

[env]
# é–‹ç™ºç’°å¢ƒã®ç’°å¢ƒå¤‰æ•°
NODE_ENV = "development"
VITE_APP_NAME = "VibeInsight"

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®è¨­å®š
VIBEINSIGHT_ENV = "local"

[tools]
# Node.js - Bunã¨äº’æ›æ€§ã®ãŸã‚
node = "20.11.0"

# Bun - ãƒ¡ã‚¤ãƒ³ãƒ©ãƒ³ã‚¿ã‚¤ãƒ 
bun = "1.1.0"

# Python - éŸ³å£°å‡¦ç†ç”¨ï¼ˆå°†æ¥çš„ã«Fly.io Dockerã§ä½¿ç”¨ï¼‰
python = "3.11"

# ãã®ä»–ã®é–‹ç™ºãƒ„ãƒ¼ãƒ«
gh = "latest"        # GitHub CLI
jq = "latest"        # JSONå‡¦ç†

[tasks]
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
dev = "bun run dev"

# å‹ãƒã‚§ãƒƒã‚¯
"type-check" = "bun run type-check"

# ãƒªãƒ³ãƒˆ
lint = "bun run lint"
"lint:fix" = "bun run lint:fix"

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
format = "bun run format"

# ãƒ†ã‚¹ãƒˆ
test = "bun run test"
"test:ui" = "bun run test:ui"

# ãƒ“ãƒ«ãƒ‰
build = "bun run build"
preview = "bun run preview"

# Claudeé–¢é€£ã‚¿ã‚¹ã‚¯
"update-claude-secrets" = { run = "./.mise/tasks/update-claude-secrets", description = "Claudeèªè¨¼æƒ…å ±ã‚’GitHubã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã«æ›´æ–°" }

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
setup = [
  "bun install",
  "echo 'âœ… ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†'",
  "bun run type-check",
  "echo 'âœ… TypeScriptå‹ãƒã‚§ãƒƒã‚¯å®Œäº†'",
  "echo 'ğŸ‰ VibeInsighté–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼'",
  "echo ''",
  "echo 'åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰:'",
  "echo '  mise run dev              # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•'",
  "echo '  mise run test             # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ'", 
  "echo '  mise run lint             # ã‚³ãƒ¼ãƒ‰ãƒªãƒ³ãƒˆ'",
  "echo '  mise run update-claude-secrets # Claudeèªè¨¼æƒ…å ±æ›´æ–°'",
]

# ç’°å¢ƒãƒã‚§ãƒƒã‚¯
check = [
  "echo 'ğŸ” ç’°å¢ƒãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œä¸­...'",
  "node --version",
  "bun --version", 
  "gh --version",
  "jq --version",
  "echo 'âœ… å…¨ã¦ã®å¿…è¦ãªãƒ„ãƒ¼ãƒ«ãŒåˆ©ç”¨å¯èƒ½ã§ã™'",
]

[plugins]
# å¿…è¦ã«å¿œã˜ã¦ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ 